{% load django_bootstrap5 %} 
{% load static %} 
{% include 'byt/navbar.html' %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Brew Log</title>
    <link rel="icon" type="image/png" href="{% static 'byt/images/logo.png' %}" />
    {% bootstrap_css %}
  </head>

  <body style="color: #5a3d2b; overflow-x: hidden; background-color: #f3e5d8">
    <div class="container-fluid vh-100 d-flex flex-column">
      <div class="py-4 text-center card border-0 rounded-4 mt-3 mx-3" style="background-color: #5a3d2b; color: #f3e5d8">
        <h1 class="fw-bold">Welcome to Your Brew Log!</h1>
        <p class="small">
          Hi {{user_data.name}}! This is where all your saved tech brews can be found, revisited, and viewed!<br />
          Dive into your personalized brew history.
        </p>
      </div>

      <div class="flex-grow-1 d-flex justify-content-center align-items-start py-4">
        <div class="row w-100 px-1">
          {% for bookmarked_item in bookmarked_items %}
          <div class="col-12 col-md-6 col-lg-4 mb-4">
            <div class="card h-100 rounded-4 border-0 d-flex flex-column">
              <div class="card-body rounded-4 border-0 d-flex flex-column" style="background-color: #d7c0ae; color: #5a3d2b">
                {% if bookmarked_item.category == 'phone' %}
                <div class="d-flex flex-column h-100">
                  <div class="h-100 w-100 d-flex">
                    <div class="w-75">
                      <h6 class="card-title">
                        <span class="fw-bold">{{ bookmarked_item.item.brand }}</span> - {{ bookmarked_item.item }} ({{ bookmarked_item.item.launch_expected_year }})
                      </h6>
                      <div class="mt-auto">
                        <p class="card-text py-3">
                          Price: ${{ bookmarked_item.item.price_usd|stringformat:"s"|slice:":6" }}
                        </p>
                      </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-25 h-100">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-phone" viewBox="0 0 16 16">
                        <path d="M11 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM5 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                        <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                      </svg>
                    </div>
                  </div>
                </div>
                {% elif bookmarked_item.category == 'laptop' %}
                <div class="d-flex flex-column h-100">
                  <div class="h-100 w-100 d-flex">
                    <div class="w-75">
                      <h6 class="card-title">
                        <span class="fw-bold">{{ bookmarked_item.item.company }}</span> - {{ bookmarked_item.item.product }} ({{bookmarked_item.item.year}})
                      </h6>
                      <div class="mt-auto">
                        <p class="card-text py-3">
                          Price: ${{ bookmarked_item.item.price_usd }}
                        </p>
                      </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-25 h-100">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-laptop" viewBox="0 0 16 16">
                        <path d="M13.5 3a.5.5 0 0 1 .5.5V11H2V3.5a.5.5 0 0 1 .5-.5zm-11-1A1.5 1.5 0 0 0 1 3.5V12h14V3.5A1.5 1.5 0 0 0 13.5 2zM0 12.5h16a1.5 1.5 0 0 1-1.5 1.5h-13A1.5 1.5 0 0 1 0 12.5"/>
                      </svg>
                    </div>
                  </div>
                </div>
                {% elif bookmarked_item.category == 'tablet' %}
                <div class="d-flex flex-column h-100">
                  <div class="h-100 w-100 d-flex">
                    <div class="w-75">
                      <h6 class="card-title">
                        <span class="fw-bold">{{ bookmarked_item.item.brand }}</span> - {{bookmarked_item.item.name }}
                      </h6>
                      <div class="mt-auto">
                        <p class="card-text py-3">
                          Price: ${{ bookmarked_item.item.price_usd }}
                        </p>
                      </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-25 h-100">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-tablet" viewBox="0 0 16 16">
                        <path d="M12 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
                        <path d="M8 14a1 1 0 1 0 0-2 1 1 0 0 0 0 2"/>
                      </svg>
                    </div>
                  </div>
                </div>
                {% elif bookmarked_item.category == 'camera' %}
                <div class="d-flex flex-column h-100">
                  <div class="h-100 w-100 d-flex">
                    <div class="w-75">
                      <h6 class="card-title">
                        <span class="fw-bold">{{ bookmarked_item.item.model }}</span> - {{ bookmarked_item.item.product }} ({{bookmarked_item.item.release_date}})
                      </h6>
                      <div class="mt-auto">
                        <p class="card-text py-3">
                          Price: ${{ bookmarked_item.item.price }}
                        </p>
                      </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center w-25 h-100">
                      <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-camera" viewBox="0 0 16 16">
                        <path d="M15 12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h1.172a3 3 0 0 0 2.12-.879l.83-.828A1 1 0 0 1 6.827 3h2.344a1 1 0 0 1 .707.293l.828.828A3 3 0 0 0 12.828 5H14a1 1 0 0 1 1 1zM2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4z"/>
                        <path d="M8 11a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5m0 1a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7M3 6.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>
                      </svg>
                    </div>
                  </div>
                </div>
                {% endif %}

                {% if bookmarked_item.category == 'tablet' %}
                <a href="{% url 'brewDisplay' bookmarked_item.category bookmarked_item.item.index user_id %}" target="_blank" class="btn rounded-pill fw-medium mt-auto" style="background-color: #5a3d2b; color: #f3e5d8">
                  View Details
                </a>
                {% else %}
                <a href="{% url 'brewDisplay' bookmarked_item.category bookmarked_item.item.id user_id %}" target="_blank" class="btn rounded-pill fw-medium mt-auto" style="background-color: #5a3d2b; color: #f3e5d8">
                  View Details
                </a>
                {% endif %}
              </div>
            </div>
          </div>
          {% empty %}
          <div class="text-center mt-5">
            <img src="{% static 'byt/images/empty.png' %}" alt="BrewYourTech empty" style="width: 100px" class="mb-2 mx-auto" />
            <p style="color: #5a3d2b">
              No bookmarks found. Explore and save your favorite tech!
            </p>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    {% include 'byt/navbar.html' %}
    {% bootstrap_javascript %}
  </body>
</html>
